### Определение функций

---

Во-первых, давай вспомним, что такое функция? Какие функции мы знаем? Отличие метода от функции.

Допустим, ты хочешь отправлять письма на сайте. Согласись, что задача достаточно сложная - ты должен взаимодействовать с внешними системами, открыть соединение,
после тебе нужно соединиться с почтовым сервером, отправить правильное сообщение с правильными заголовками, а после не забыть закрыть соединение.
Задача совсем нетривиальная, кроме того, подобные действия тебе скорее всего нужно делать не в одном месте твоего сайта. 
Например, отправлять письмо подтверждения после регистрации, оповещать пользователя о важных изменениях на твоем сайте и так далее.
Примеров может быть много. В итоге тебе придется написать достаточно много строчек кода везде, где ты хочешь отправлять письма пользователям.
Было бы отлично иметь функцию, отправляющую письма на почту, вроде этой: ``send(email, title, body)``, которую ты бы мог использовать в разных местах своей программы.
Внутри себя функция выше скрывает всю описанную выше логику(установление соединения, соединение с почтовым сервером и так далее). 
Было бы классно иметь возможность создавать такую логику(функцию), которая необходима лично тебе в каждой конкретной программе и переиспользовать ее тогда, когда тебе нужно.
Мы подходим к супер-важной теме - к функциям.
Создадим нашу первую функцию - ее задача напечатать 'Hello, world!' на экран.

    def show_greeting():

        # Внутри тела отступ четыре пробела

        text = 'Hello, world!'
    
        print(text)

Рассказать про именование функций, про тело функции, про отступы.

Практика №1

### Возврат значение из функции.

---

Функция, которую мы реализовали, не особо полезная - с результатом ее работы нельзя ничего сделать, так как она ничего не 
возвращает(вывод на экран - не возврат!). 

Я уже приводил пример с вводом e-maila на сайте при регистрации. Пользователь может ввести свой email любым образом, например
* Добавить случайно пробелы в начале или в конце: ``_support@hexlet.io__``
* Использовать буквы в разном регистре: ``SUPPORT@hexlet.io``

Какие проблемы могут быть, если сохранить почту в таком виде в базу данных?

Подобная проблема решается достаточно легко. Создадим свою функцию для обработки введенной почты:

    def save_email():
        # Email приходит из формы
        email = '  SuppORT@hexlet.IO'
        # Обрезаем пробельные символы
        trimmed_email = email.strip()
        prepared_email = trimmed_email.lower()
        print(prepared_email)
        # Здесь будет запись в базу данных

Казалось бы, все круто - мы нормализовали адрес. Но есть одна проблема. Какая? Возвращает ли наша функция что-то?

Изменим нашу функцию, чтобы она возвращала результат свой работы:

    def save_email():
        email = '  SuppORT@hexlet.IO'
        trimmed_email = email.strip()
        prepared_email = trimmed_email.lower()
        return prepared_email

return — это инструкция. 
Она берет записанное справа выражение и отдает его тому коду, который вызвал метод. Здесь выполнение функции завершается.

email = save_email()

В данном примере в переменной email будет сохранен результат работы функции save_email. 

    !!Любой код после return не выполняется.!!

    def greeting_with_code_after_return():
        return 'Hello, Hexlet!'
        print('Выполнюсь ли я?')


    def greeting_with_code_after_return():
        print('Выполнюсь ли я?')
        return 'Hello, Hexlet!'


    def run():
        return 5
        return 10


    # Что будет выведено на экран?
    print(run())

Вспомни то, что я говорил тебе вчера. Функция - это выражение и результат ее работы мы можем использовать в других выражениях.

Например: 

    def greeting():
        message = 'Hello, Hexlet!'
        return message

    message = greeting()
    print(message.upper())

Практика №2, №3

### Параметры функции

---

Функция умеет не только возвращать значения, но и принимать параметры. Сталкивались ли мы с передачей параметров(аргументов) в функцию да этого?

Итак, представим, что наш начальник дал нам задание - создать функцию, которая возвращает последний символ переданной строки. Допустим, мы назовем функцию ``get_last_char``

Её использование будет выглядеть так:

``last_char = get_last_char('world')``

В данном случае, в переменную ``last_char`` сохранится то, что вернет функция ``get_last_char`` - букву 'd'

Какие выводы нам можем сделать из этих строк? Какую функцию нам нужно создать?

Определим же эту функцию:

    def get_last_char(text):
        return text[-1]

Внутри функции ``get_last_char`` любая строка, которую мы передадим как параметр будет сохранена в переменной ``text``
Имя параметров функции может быть любым, главное, чтобы оно отражало смысл аргумента, который мы передаем в функцию.

    def get_last_char(string):
        return string[-1]
    
    
    # Внутри функции string будет равна 'hexlet'
    get_last_char('hexlet')  # t
    
    # Внутри функции string будет равна 'code'
    get_last_char('code')  # e
    
    # Внутри функции string будет равна 'Winter is coming'
    # Имя переменной снаружи не связано с именем переменной в определении функции
    text = 'Winter is coming'
    get_last_char(text)  # g

Можем ли мы вызвать функцию подобным образом?

    get_last_char() # ?


Функция может принимать столько параметров, сколько ей нужно для работы. В таком случае аргументы указываются через запятую.
Например, создадим функцию, которая принимает на вход строку и символ. Функция должна возвращать количество вхождений символа в строку и возвращать это количество.

    string = 'I\'m sssshort string'
    
    def count_symbols_in_string(text, symbol):
        return text.count(symbol)

    print(count_symbols_in_string(string, 's') #?

Практика №4, 5
