### Повторение

1. Что такое замыкание? Когда оно возникает?
2. Что такое `nonlocal`? Для чего используется? В чем отличие от инструкции `global`?


### Декораторы

В программирование часто возникают ситуации, когда к существующему поведению функции нужно добавить дополнительное поведение.
Безусловно, можно изменить тело функции и добавить туда необходимое поведение, но зачастую это не выход, так как в будущем
может возникнуть необходимость поменять поведение этой функции вновь, а потом еще и еще раз. Для этого в Python существуют так называемые
`функции-декораторы`, которые добавляют новое поведение для функции без необходимости изменять тело самой функции.
Реализация декораторов напрямую основывается на замыканиях, по этому понимать их для нас очень важно.

**Декораторы в Python** - это функции, которые принимают другую функцию в качестве аргумента, добавляют к ней некоторую 
дополнительную функциональность и возвращают функцию с измененным поведением. 

**Пример 1.**


### Как связаны декораторы и замыкания

Внутренняя функция wrapper декоратора обычно ссылается на переменные из внешней функции, что создает замыкание. 
В примере с декоратором debug_decorator функция wrapper ссылается на func, которая была определена во внешней функции 
debug_decorator. Это позволяет декоратору использовать и изменять переменные из внешней функции в рамках своей логики работы, что делает декораторы более гибкими инструментами.

Также декораторы могут использовать замыкания, чтобы сохранять состояния между вызовами функции. Например, декоратор 
может создать замыкание, которое сохраняет информацию о том, сколько раз функция была вызвана, и возвращать это значение 
при каждом вызове функции.

В `примере 2` 


### Выводы

Существует большое количество готовых декораторов, доступных в стандартной библиотеке Python и других библиотеках. 
Некоторые из них позволяют кэшировать результаты функций, обеспечивать авторизацию и безопасность, профилировать код, 
проверять типы данных и многое другое.

Декораторы могут повлиять на производительность кода, поэтому их следует использовать с умом и осторожностью. 
Также нужно учитывать, что декораторы могут усложнить отладку кода и сделать его менее понятным для других разработчиков.

При этом декораторы являются мощным инструментом, который позволяет легко добавлять дополнительную функциональность к 
существующим функциям и классам и не изменять их исходный код. Также использование замыканий позволяет декораторам 
сохранять состояние между вызовами функций. Это делает их еще более мощными инструментами программирования на Python.

